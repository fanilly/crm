<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>编辑子部门</title>
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <script src="./librarys/scripts/rem.js"></script>
    <link rel="stylesheet" type="text/css" href="./librarys/styles/common.css?v={:config('asset_version')}">
    <link rel="stylesheet" type="text/css" href="./librarys/jqweui/lib/weui.css?v={:config('asset_version')}">
    <link rel="stylesheet" type="text/css" href="./librarys/jqweui/css/jquery-weui.css?v={:config('asset_version')}">
    <link rel="stylesheet" type="text/css" href="./styles/public.css?v={:config('asset_version')}">
    <link rel="stylesheet" type="text/css" href="./styles/xss.css?v={:config('asset_version')}">
</head>

<body>
<style>
body{ background-color: #f7f7f7; padding-bottom: 1rem; }
</style>

    <div class="edit_branch">
        <div class="input-group">
            <div class="public-input-box-type03 public-bottom-line public-flex-center">
                <label class="lside public-flex-center">
                    <span class="name">部门名称</span><span class="require">*</span>
                </label>
                <input class="input public-flex1" type="text" name="" placeholder="点击输入">
            </div>
            <div class="public-input-box-type03 public-bottom-line public-flex-center">
                <label class="lside public-flex-center">
                    <span class="name">上级部门</span>
                </label>
                <input class="input public-flex1" id="chose_parents" type="text" name="" value="默认当前部门" placeholder="去设置">
                <img class="icon" src="./assets/a04.png" class="clear-input" alt="">
            </div>
            <div class="public-input-box-type03 public-bottom-line public-flex-center">
                <label class="lside public-flex-center">
                    <span class="name">部门权限</span>
                </label>
                <input class="input public-flex1 set_power" type="text" name="" placeholder="去设置">
                <img class="icon set_power" src="./assets/a04.png" class="clear-input" alt="">
            </div>
        </div>
        <div class="f7"></div>
        <div class="input-group" style='padding-top: 0.2rem'>
            <div class="public-textarea-box-type01">
                <textarea placeholder="部门说明（选填）" autoHeight="true"></textarea>
            </div>
        </div>

        <div class="f7" style='height:0.4rem;'></div>
        <div class="btn_group">
            <span class="del">删除</span>
        </div>
        <div class="f7" style='height:0.4rem;'></div>

        <div style='height:1.6rem;'></div>
        <div class="fix_visit_btn"><button>保存</button></div>

    </div>
    


    <script src="./librarys/scripts/vue.js?v={:config('asset_version')}"></script>
    <script src="./librarys/jqweui/lib/jquery-2.1.4.js?v={:config('asset_version')}"></script>
    <script src="./librarys/jqweui/js/jquery-weui.min.js?v={:config('asset_version')}"></script>
    <script src="./scripts/public.js?v={:config('asset_version')}"></script>
    <script src="http://res.wx.qq.com/open/js/jweixin-1.2.0.js?v={:config('asset_version')}"></script>
    <script src="./librarys/dayjs/dayjs.min.js"></script>
    <script>
    (function(){
        $.fn.autoHeight = function(){
            function autoHeight(elem){
                elem.style.height = 'auto';
                elem.scrollTop = 0; //防抖动
                elem.style.height = elem.scrollHeight + 'px';
            }
            this.each(function(){
                autoHeight(this);
                $(this).on('keyup', function(){
                    autoHeight(this);
                });
            });
        }
        $('textarea[autoHeight]').autoHeight();

        //选择上级部门
        $("#chose_parents").picker({
            title: "请选择上级部门",
            cols: [{
                textAlign: 'center',
                values: ['默认当前部门','技术部','销售部']
            }],
            onClose: function (p, v, d) {
                console.log(p.params.cols[0].activeIndex);
            }
        });

        // 打开更多弹窗
        $('.choseBar .list .item p').click(function(){
            $('body,html').css({"overflow":'hidden'})
            $('.pop_upper_bg').fadeIn()
            $('.pop_more').fadeIn()
        })
        function hiddPOP(){
            $('body,html').css({"overflow":'auto'})
            $('.pop_upper_bg').fadeOut()
            $('.pop_more').fadeOut()
        }
    
        // 关闭更多弹窗
        $('.pop_upper_bg, .pop_more .cancle span').click(function(){
            hiddPOP()
        })

        // 弹窗-编辑
        $('.pop_more .cancle .edit').click(function(){
            hiddPOP()
            window.location.href='./branchEdit.html'
        })

        // 弹窗-删除
        $('.pop_more .cancle .del').click(function(){
            hiddPOP()
            //删除的方法
        })

        // 弹窗-编辑
        $('.pop_more .cancle .set').click(function(){
            hiddPOP()
            //window.location.href='./branchEdit.html'
        })

        // 弹窗-编辑
        $('.set_power').click(function(){
            window.location.href='./branchSetPower.html'
        })

       
    })()
    </script>

</body>
</html>
